<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Migration</title>
    <script
            src="https://code.jquery.com/jquery-3.3.1.min.js"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.3.0/sockjs.min.js"></script>
</head>

<body th:onload="'init(\'' + ${sessionId} + '\')'">
<h1>Table's name page</h1>
<div class="checks" th:each="table: ${tables}">
    <input name="checkik" type="checkbox" th:attr="value=${table.name}" th:text="${table.name}"/>
</div>
<br/>
<div class="form form--from">
    <div class="form--heading">Please enter your source db details</div>
    <!--TODO remove hardcoded values-->
    <input id="urlTo" type="text" placeholder="URL To" name="urlTo" value="jdbc:postgresql://localhost:5432/test2"/>
    <input id="usernameTo" type="text" placeholder="Username" name="usernameTo" value="postgres"/>
    <input id="passwordTo" type="password" placeholder="Password" name="passwordTo" value="root"/>
</div>
<br/>

<button id="prepMigrate" onclick="generateSqls()">Prepare to migration</button>

<div id="err" style="border: 1px solid; width: 1024px; height: 200px;">
    <ul id="errors">

    </ul>
</div>

<button id="btnMigrate"  onclick="migrate()">Migrate</button>

<div id="load" style="border: 1px solid; width: 1024px; height: 200px;">
    <ul id="loading">

    </ul>
</div>

<script th:src="@{/js/view.js}"></script>

</body>
</html>